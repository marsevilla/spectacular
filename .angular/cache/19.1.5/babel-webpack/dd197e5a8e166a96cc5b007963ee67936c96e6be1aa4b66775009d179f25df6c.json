{"ast":null,"code":"import _asyncToGenerator from \"/Users/mariadelmarsevillaescobar/Downloads/spectacular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { TestBed } from '@angular/core/testing';\nimport { AdviceComponent } from './advice.component';\nimport { signal } from '@angular/core';\nimport { provideRouter } from '@angular/router';\nimport { By } from '@angular/platform-browser';\nimport { Router } from '@angular/router';\ndescribe('AdviceComponent', () => {\n  let component;\n  let fixture;\n  let debugEl;\n  let expectedAdvice;\n  let routerSpy;\n  beforeEach(/*#__PURE__*/_asyncToGenerator(function* () {\n    routerSpy = jasmine.createSpyObj('Router', ['navigate']);\n    yield TestBed.configureTestingModule({\n      providers: [provideRouter([]), {\n        provide: Router,\n        useValue: routerSpy\n      }]\n    }).compileComponents();\n    fixture = TestBed.createComponent(AdviceComponent);\n    component = fixture.componentInstance;\n    debugEl = fixture.debugElement;\n    expectedAdvice = signal({\n      slip: {\n        id: 2,\n        advice: 'fake advice'\n      }\n    });\n    // Set input value before change detection\n    component.advice = signal({\n      slip: {\n        id: 2,\n        advice: 'fake advice'\n      }\n    });\n    fixture.detectChanges();\n    yield fixture.whenStable();\n  }));\n  it('should display the advice', () => {\n    const advice = debugEl.query(By.css('p')).nativeElement;\n    expect(advice.textContent).toContain(expectedAdvice.slip.advice);\n  });\n  it('should redirect to the hate page', () => {\n    component.nav();\n    expect(routerSpy.navigate).toHaveBeenCalledWith(['/home']);\n  });\n});","map":{"version":3,"names":["TestBed","AdviceComponent","signal","provideRouter","By","Router","describe","component","fixture","debugEl","expectedAdvice","routerSpy","beforeEach","_asyncToGenerator","jasmine","createSpyObj","configureTestingModule","providers","provide","useValue","compileComponents","createComponent","componentInstance","debugElement","slip","id","advice","detectChanges","whenStable","it","query","css","nativeElement","expect","textContent","toContain","nav","navigate","toHaveBeenCalledWith"],"sources":["/Users/mariadelmarsevillaescobar/Downloads/spectacular/src/app/spy-expert/advice/advice.component.spec.ts"],"sourcesContent":["import { ComponentFixture, TestBed } from '@angular/core/testing';\nimport { Advice } from '../core/models/advice';\nimport { AdviceComponent } from './advice.component';\nimport { DebugElement, InputSignal, signal } from '@angular/core';\nimport { provideRouter } from '@angular/router';\nimport { By } from '@angular/platform-browser';\nimport { Router } from '@angular/router';\n\ndescribe('AdviceComponent', () => {\n  let component: AdviceComponent;\n  let fixture: ComponentFixture<AdviceComponent>;\n  let debugEl: DebugElement;\n  let expectedAdvice: WritableSignal<Advice | undefined>;\n  let routerSpy: jasmine.SpyObj<Router>;\n\n  beforeEach(async () => {\n    routerSpy = jasmine.createSpyObj('Router', ['navigate']);\n\n    await TestBed.configureTestingModule({\n      providers: [\n        provideRouter([]),\n        { provide: Router, useValue: routerSpy },\n      ],\n    }).compileComponents();\n\n    fixture = TestBed.createComponent(AdviceComponent);\n    component = fixture.componentInstance;\n    debugEl = fixture.debugElement;\n    expectedAdvice = signal({ slip: { id: 2, advice: 'fake advice' } });\n\n    // Set input value before change detection\n    component.advice = signal({ slip: { id: 2, advice: 'fake advice' } });\n    fixture.detectChanges();\n\n    await fixture.whenStable();\n  });\n\n  it('should display the advice', () => {\n    const advice = debugEl.query(By.css('p')).nativeElement;\n    expect(advice.textContent).toContain(expectedAdvice.slip.advice);\n  });\n\n  it('should redirect to the hate page', () => {\n    component.nav();\n    expect(routerSpy.navigate).toHaveBeenCalledWith(['/home']);\n  });\n});\n"],"mappings":";AAAA,SAA2BA,OAAO,QAAQ,uBAAuB;AAEjE,SAASC,eAAe,QAAQ,oBAAoB;AACpD,SAAoCC,MAAM,QAAQ,eAAe;AACjE,SAASC,aAAa,QAAQ,iBAAiB;AAC/C,SAASC,EAAE,QAAQ,2BAA2B;AAC9C,SAASC,MAAM,QAAQ,iBAAiB;AAExCC,QAAQ,CAAC,iBAAiB,EAAE,MAAK;EAC/B,IAAIC,SAA0B;EAC9B,IAAIC,OAA0C;EAC9C,IAAIC,OAAqB;EACzB,IAAIC,cAAkD;EACtD,IAAIC,SAAiC;EAErCC,UAAU,cAAAC,iBAAA,CAAC,aAAW;IACpBF,SAAS,GAAGG,OAAO,CAACC,YAAY,CAAC,QAAQ,EAAE,CAAC,UAAU,CAAC,CAAC;IAExD,MAAMf,OAAO,CAACgB,sBAAsB,CAAC;MACnCC,SAAS,EAAE,CACTd,aAAa,CAAC,EAAE,CAAC,EACjB;QAAEe,OAAO,EAAEb,MAAM;QAAEc,QAAQ,EAAER;MAAS,CAAE;KAE3C,CAAC,CAACS,iBAAiB,EAAE;IAEtBZ,OAAO,GAAGR,OAAO,CAACqB,eAAe,CAACpB,eAAe,CAAC;IAClDM,SAAS,GAAGC,OAAO,CAACc,iBAAiB;IACrCb,OAAO,GAAGD,OAAO,CAACe,YAAY;IAC9Bb,cAAc,GAAGR,MAAM,CAAC;MAAEsB,IAAI,EAAE;QAAEC,EAAE,EAAE,CAAC;QAAEC,MAAM,EAAE;MAAa;IAAE,CAAE,CAAC;IAEnE;IACAnB,SAAS,CAACmB,MAAM,GAAGxB,MAAM,CAAC;MAAEsB,IAAI,EAAE;QAAEC,EAAE,EAAE,CAAC;QAAEC,MAAM,EAAE;MAAa;IAAE,CAAE,CAAC;IACrElB,OAAO,CAACmB,aAAa,EAAE;IAEvB,MAAMnB,OAAO,CAACoB,UAAU,EAAE;EAC5B,CAAC,EAAC;EAEFC,EAAE,CAAC,2BAA2B,EAAE,MAAK;IACnC,MAAMH,MAAM,GAAGjB,OAAO,CAACqB,KAAK,CAAC1B,EAAE,CAAC2B,GAAG,CAAC,GAAG,CAAC,CAAC,CAACC,aAAa;IACvDC,MAAM,CAACP,MAAM,CAACQ,WAAW,CAAC,CAACC,SAAS,CAACzB,cAAc,CAACc,IAAI,CAACE,MAAM,CAAC;EAClE,CAAC,CAAC;EAEFG,EAAE,CAAC,kCAAkC,EAAE,MAAK;IAC1CtB,SAAS,CAAC6B,GAAG,EAAE;IACfH,MAAM,CAACtB,SAAS,CAAC0B,QAAQ,CAAC,CAACC,oBAAoB,CAAC,CAAC,OAAO,CAAC,CAAC;EAC5D,CAAC,CAAC;AACJ,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}